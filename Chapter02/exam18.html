<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <form id="guestForm" action="/mysite/guestbook/write" method="get">
            <table border="1" width="540px">
                <tr>
                    <td>이름</td><td><input type="text" name="name"></td>
                    <td>비밀번호</td><td><input type="password" name="pw"></td>
                </tr>
                <tr>
                    <td colspan="4"><textarea cols="72" rows="5" name="content"></textarea></td>
                </tr>
                <tr>
                    <td colspan="4"><button id="btnWrite" type="submit">등록</button></td>
                </tr>
            </table>
        </form>
    </div>
    <br>
</body>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        let guestForm = document.querySelector("#guestForm");

        guestForm.addEventListener('submit', function(event) {
            event.preventDefault(); // 폼 제출 방지
            // form data get
            let name = document.querySelector('[name="name"]').value;
            let pw = document.querySelector('[name="pw"]').value;
            let content = document.querySelector('[name="content"]').value;

            // validation
            if (name == "" || pw == "" || content == "") {
                alert("모든 항목을 입력하세요.");
                return false; // 입력 검증에 실패하면 폼을 제출하지 않음
            }else{
                // insert to DB or API
            console.log(`name: ${name}, pw: ${pw}, content: ${content}`);
            return true;
            }

            
        });
    });
</script>
</html>
